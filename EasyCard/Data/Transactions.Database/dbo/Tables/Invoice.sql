CREATE TABLE [dbo].[Invoice] (
    [InvoiceID]           UNIQUEIDENTIFIER NOT NULL,
    [InvoiceTimestamp]    DATETIME2 (7)    NULL,
    [InvoiceDate]         DATETIME2 (7)    NULL,
    [TerminalID]          UNIQUEIDENTIFIER NOT NULL,
    [MerchantID]          UNIQUEIDENTIFIER NOT NULL,
    [InvoicingID]         BIGINT           NULL,
    [InvoiceType]         SMALLINT         NOT NULL,
    [Status]              SMALLINT         NOT NULL,
    [Currency]            SMALLINT         NOT NULL,
    [NumberOfPayments]    INT              NOT NULL,
    [InvoiceAmount]       DECIMAL (19, 4)  NOT NULL,
    [CardOwnerName]       NVARCHAR (100)   NULL,
    [CardOwnerNationalID] VARCHAR (20)     NULL,
    [DealReference]       VARCHAR (50)     NULL,
    [DealDescription]     NVARCHAR (MAX)   NULL,
    [ConsumerEmail]       VARCHAR (50)     NULL,
    [ConsumerPhone]       VARCHAR (20)     NULL,
    [ConsumerID]          UNIQUEIDENTIFIER NULL,
    [Items]               NVARCHAR (MAX)   NULL,
    [UpdatedDate]         DATETIME2 (7)    NULL,
    [UpdateTimestamp]     ROWVERSION       NULL,
    [OperationDoneBy]     NVARCHAR (50)    NOT NULL,
    [OperationDoneByID]   UNIQUEIDENTIFIER NULL,
    [CorrelationId]       VARCHAR (50)     NULL,
    [SourceIP]            VARCHAR (50)     NULL,
    [Active]              BIT              NOT NULL,
    CONSTRAINT [PK_Invoice] PRIMARY KEY CLUSTERED ([InvoiceID] ASC)
);

